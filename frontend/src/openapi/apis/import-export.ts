/**
 * Generated by orval v6.10.3 üç∫
 * Do not edit manually.
 * Unleash API
 * OpenAPI spec version: 4.20.0-beta.2
 */
import useSwr from 'swr';
import type { SWRConfiguration, Key } from 'swr';
import type { StateSchema, ExportParams } from '../models';
import { fetcher } from '../fetcher';
import type { ErrorType, BodyType } from '../fetcher';

export const _import = (stateSchema: BodyType<StateSchema>) => {
    return fetcher<void>({
        url: `/api/admin/state/import`,
        method: 'post',
        headers: { 'Content-Type': 'application/json' },
        data: stateSchema,
    });
};

export const _export = (params?: ExportParams) => {
    return fetcher<StateSchema>({
        url: `/api/admin/state/export`,
        method: 'get',
        params,
    });
};

export const getExportKey = (params?: ExportParams) => [
    `/api/admin/state/export`,
    ...(params ? [params] : []),
];

export type ExportQueryResult = NonNullable<
    Awaited<ReturnType<typeof _export>>
>;
export type ExportQueryError = ErrorType<unknown>;

export const useExport = <TError = ErrorType<unknown>>(
    params?: ExportParams,
    options?: {
        swr?: SWRConfiguration<Awaited<ReturnType<typeof _export>>, TError> & {
            swrKey?: Key;
            enabled?: boolean;
        };
    }
) => {
    const { swr: swrOptions } = options ?? {};

    const isEnabled = swrOptions?.enabled !== false;
    const swrKey =
        swrOptions?.swrKey ?? (() => (isEnabled ? getExportKey(params) : null));
    const swrFn = () => _export(params);

    const query = useSwr<Awaited<ReturnType<typeof swrFn>>, TError>(
        swrKey,
        swrFn,
        swrOptions
    );

    return {
        swrKey,
        ...query,
    };
};
