---
title: Environment Import & Export
---

:::info Availability

The environment import and export first appeared in Unleash 4.22.0.

:::

Environment export and import lets you copy feature configurations from one environment to another and even copy features from one Unleash instance to another.

When exporting, you select a set of features and **one** environment to export the configuration from. The environment must be the same for all features.

Then, when you import, you must select **one** environment and **one** project to import into. All features are imported into that project in that environment. If Unleash is unable to import the configuration safely, it will tell you why the import failed and what you need to do fix it (read more about [import rejection](#import-rejection).

## Import & Export items

When you export features, the export will contain both feature-specific configuration and global configuration.

On the project-level these  items are exported:

* [the feature itself](../feature-toggles.mdx)
* [feature tags](../tags.md)

On the environment-level, these items are exported for the chosen environment:

* [activation strategies](../activation-strategies.md) including [constraints](../strategy-constraints.md) and references to [segments](../segments.mdx)
* [variants](../feature-toggle-variants.md)
* enabled/disabled

Additionally, these global configuration items are exported:
* [custom context fields](../unleash-context.md#context-fields)
* [feature tag types](../tags.md#tag-types)

Importantly, while references to [segments](../segments.mdx)) are exported, the segments themselves are **not** exported. Consult the [import rejection](#import-rejection) section for more information.

## Export

You can export features either from a project search or the global feature search. Use the search functionality to narrow the results to the list of features you want to export and use the export button to select environment. All features included in your search results will be included in the export.

<Figure caption="Search-driven export screen with WYSIWYG mode."  img="/img/export.png"/>

## Import

Import is a 3 stage process designed to be efficient and error-resistant.

### Import stages

* **upload** - you can upload previously exported JSON file or copy-paste export data from the exported JSON file into the code editor
* **validation** - you will get feedback on any errors or warnings before you do the actual import. This makes sure your feature flags configurations. You will not be able to finish the import if you have errors. Warnings don't stop you from importing.
* **import** - the actual import that creates a new configuration in the target environment or creates a [change request](../change-requests.md) when the environment has change requests enabled

![Three-staged import process](/img/import.png)

### Import requirements

An import will be rejected when there's a possibility of data corruption.

#### Context fields

The exported and imported context fields have the same name but the target environment doesn't support some of the source environment context field values. If the context fields don't exist in the target environment they will be created.

#### Segments

The target Unleash instance doesn't have a matching segment. The actual constraints in the segment can be different. The matching is done by the segment name.

#### Custom strategies

The exported strategies include custom strategies that don't exist in the target Unleash instance. The matching is done by the strategy name.

#### Existing features

You're trying to import a feature that already exists in a different project on the target instance.

#### Pending change request

The target project and environment have a pending change request (applies to enterprise customers with change requests enabled for a given project and environment).

### Import warnings

Import validation will warn you when:
* the features you are trying to import are already archived in the target instance in any project. Those features won't be imported again.
* the strategies you are trying to import are custom and may have different [configuration parameters](../custom-activation-strategies.md#parameters). Those strategies will be imported anyway.

### Required permissions

To import features, you will **always** require the **update feature toggles** permission.
Additionally, depending on how the actions your import job would trigger, you may also require any of the following permissions:
* **Create feature toggles**: When the import would create new features
* **Update tag types**: when the import would create new tag types
* **Create context fields**: when the import would create new context fields
* **Create activation strategies**: when the import would add (or is this "create custom activation strategies"? custom or standard?) activation strategies to a feature and change requests are disabled
* **Delete activation strategies**: when import would remove existing activation strategies from a feature and change requests are disabled
* **Update variants**: when the import would update variants and change requests are disabled


### Import and change requests

If change requests are enabled for the target project and environment, the import will not be fully applied. Any new features will be created, but all feature configuration will be added to a new change request.

If change requests are enabled, any permissions for  **Create activation strategies**, **Delete activation strategies** and **Update variants** are not required.

## Environment Import & Export vs Old Import & Export

The new Environment Import & Export differs from the old [Import & Export](import-export.md).
The most important difference is a strong focus on a single project and environment in the target environment.
Also, the new Import & Export has a UI and extra safety mechanisms preventing corrupted data imports.

